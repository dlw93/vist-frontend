<mat-sidenav-container>
  <mat-sidenav *ngIf="isSidenavEnabled">
    <app-query-select></app-query-select>
  </mat-sidenav>
  <mat-sidenav-content>
    <vist-header [title]="getTitle()" [showToggle]="isSidenavEnabled" (toggle)="sidenav.toggle()"></vist-header>
    <!-- If a query is executing, we show a loading indicator -->
    <div class="control-wrap" *ngIf="!isLoading; else loadingIndicator">
      <!-- If there are no results to be displayed yet, we instead show the welcome wizard. -->
      <ng-container *ngIf="hasData; else welcome">
        <div *ngIf="!isSidenavEnabled" class="sidebar-wrap">
          <app-query-select @vistSlideIn></app-query-select>
        </div>
        <mat-card @vistSlideIn>
          <app-medline-results [showEval]="true" [data]="data"></app-medline-results>
        </mat-card>
      </ng-container>
      <ng-template #welcome>
        <div class="welcome-wrapper">
          <app-wizard></app-wizard>
        </div>
      </ng-template>
    </div>
    <ng-template #loadingIndicator>
      <div class="loading-indicator">
        <mat-spinner></mat-spinner>
        <h4 class="mat-subheading-1">Evaluating your query...</h4>
      </div>
    </ng-template>
  </mat-sidenav-content>
</mat-sidenav-container>